<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://chesslablab.github.io/php-chess/heuristics/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Heuristics - PHP Chess</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">PHP Chess</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../installation/" class="dropdown-item">Installation</a>
</li>
                                    
<li>
    <a href="../your-first-move/" class="dropdown-item">Your First Move</a>
</li>
                                    
<li>
    <a href="../read-moves/" class="dropdown-item">Read Moves</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../data-conversion/" class="nav-link">Data Conversion</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Heuristics</a>
                            </li>
                            <li class="navitem">
                                <a href="../chess-tutor/" class="nav-link">Chess Tutor</a>
                            </li>
                            <li class="navitem">
                                <a href="../play-chess/" class="nav-link">Play Chess</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../data-conversion/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../chess-tutor/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#heuristics" class="nav-link">Heuristics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="heuristics">Heuristics</h1>
<p>âœ¨ If you ask a chess pro why a chess move is good, they'll probably give you a bunch of reasons, many of them intuitive, about why they made that decision.</p>
<p>It is important to develop your pieces in the opening while trying to control the center of the board at the same time. Castling is an excellent move as long as the king gets safe. Then, in the middlegame space becomes an advantage. And if a complex position can be simplified when you have an advantage, then so much the better. The pawn structure could determine the endgame.</p>
<p>The list of reasons goes on and on.</p>
<p>The mathematician Claude Shannon came to the conclusion that there are more chess moves than atoms in the universe. The game is complex and you need to learn how to make decisions to play chess like a pro. Since no human can calculate more than, let's say 30 moves ahead, it's all about thinking in terms of heuristics.</p>
<p>Heuristics are quick, mental shortcuts that we humans use to make decisions and solve problems in our daily lives. While far from being perfect, heuristics are approximations that help manage cognitive load.</p>
<p>Listed below are the chess heuristics implemented in PHP Chess.</p>
<table>
<thead>
<tr>
<th>Heuristic</th>
<th>Description</th>
<th>Evaluation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Absolute fork</td>
<td>A tactic in which a piece attacks multiple pieces at the same time. It is a double attack. A fork involving the enemy king is an absolute fork.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/AbsoluteForkEvalTest.php">Chess\Eval\AbsoluteForkEval</a></td>
</tr>
<tr>
<td>Absolute pin</td>
<td>A tactic that occurs when a piece is shielding the king, so it cannot move out of the line of attack because the king would be put in check.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/AbsolutePinEvalTest.php">Chess\Eval\AbsolutePinEval</a></td>
</tr>
<tr>
<td>Absolute skewer</td>
<td>A tactic in which the enemy king is involved. The king is in check, and it has to move out of danger exposing a more valuable piece to capture. Only line pieces (bishops, rooks and queens) can skewer.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/AbsoluteSkewerEvalTest.php">Chess\Eval\AbsoluteSkewerEval</a></td>
</tr>
<tr>
<td>Advanced pawn</td>
<td>A pawn that is on the fifth rank or higher.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/AdvancedPawnEvalTest.php">Chess\Eval\AdvancedPawnEval</a></td>
</tr>
<tr>
<td>Attack</td>
<td>A piece is under threat of being attacked if it can be taken by an opponent's piece. The player with the greater number of material points under threat of attack has a disadvantage.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/AttackEvalTest.php">Chess\Eval\AttackEval</a></td>
</tr>
<tr>
<td>Backward pawn</td>
<td>The last pawn protecting other pawns in its chain. It is considered a weakness because it cannot advance safely.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/BackwardPawnEvalTest.php">Chess\Eval\BackwardPawnEval</a></td>
</tr>
<tr>
<td>Bad bishop</td>
<td>A bishop that is on the same color as most of own pawns.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/BadBishopEvalTest.php">Chess\Eval\BadBishopEval</a></td>
</tr>
<tr>
<td>Bishop outpost</td>
<td>A bishop on an outpost square is considered a positional advantage because it cannot be attacked by enemy pawns, and as a result, it is often exchanged for another piece.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/BishopOutpostEvalTest.php">Chess\Eval\BishopOutpostEval</a></td>
</tr>
<tr>
<td>Bishop pair</td>
<td>The player with both bishops may definitely have an advantage, especially in the endgame. Furthermore, two bishops can deliver checkmate.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/BishopPairEvalTest.php">Chess\Eval\BishopPairEval</a></td>
</tr>
<tr>
<td>Center</td>
<td>It is advantageous to control the central squares as well as to place a piece in the center.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/CenterEvalTest.php">Chess\Eval\CenterEval</a></td>
</tr>
<tr>
<td>Checkability</td>
<td>Having a king that can be checked is usually considered a disadvantage, and vice versa, it is considered advantageous to have a king that cannot be checked. A checkable king is vulnerable to forcing moves.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/CheckabilityEvalTest.php">Chess\Eval\CheckabilityEval</a></td>
</tr>
<tr>
<td>Connectivity</td>
<td>The connectivity of the pieces measures how loosely the pieces are.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/ConnectivityEvalTest.php">Chess\Eval\ConnectivityEval</a></td>
</tr>
<tr>
<td>Defense</td>
<td></td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/DefenseEvalTest.php">Chess\Eval\DefenseEval</a></td>
</tr>
<tr>
<td>Diagonal opposition</td>
<td>The same as direct opposition, but the two kings are apart from each other diagonally.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/DiagonalOppositionEvalTest.php">Chess\Eval\DiagonalOppositionEval</a></td>
</tr>
<tr>
<td>Direct opposition</td>
<td>A position in which the kings are facing each other being two squares apart on the same rank or file. In this situation, the player not having to move is said to have the opposition.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/DirectOppositionEvalTest.php">Chess\Eval\DirectOppositionEval</a></td>
</tr>
<tr>
<td>Discovered check</td>
<td>A discovered check occurs when the opponent's king can be checked by moving a piece out of the way of another.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/DiscoveredCheckEvalTest.php">Chess\Eval\DiscoveredCheckEval</a></td>
</tr>
<tr>
<td>Doubled pawn</td>
<td>A pawn is doubled if there are two pawns of the same color on the same file.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/DoubledPawnEvalTest.php">Chess\Eval\DoubledPawnEval</a></td>
</tr>
<tr>
<td>Far-advanced pawn</td>
<td>A pawn that is threatening to promote.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/FarAdvancedPawnEvalTest.php">Chess\Eval\FarAdvancedPawnEval</a></td>
</tr>
<tr>
<td>Isolated pawn</td>
<td>A pawn without friendly pawns on the adjacent files. Since it cannot be defended by other pawns it is considered a weakness.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/IsolatedPawnEvalTest.php">Chess\Eval\IsolatedPawnEval</a></td>
</tr>
<tr>
<td>King safety</td>
<td>An unsafe king leads to uncertainty. The probability of unexpected, forced moves will increase as the opponent's pieces get closer to it.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/KingSafetyEvalTest.php">Chess\Eval\KingSafetyEval</a></td>
</tr>
<tr>
<td>Knight outpost</td>
<td>A knight on an outpost square is considered a positional advantage because it cannot be attacked by enemy pawns, and as a result, it is often exchanged for a bishop.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/KnightOutpostEvalTest.php">Chess\Eval\KnightOutpostEval</a></td>
</tr>
<tr>
<td>Material</td>
<td>The player with the most material points has an advantage. The relative values of the pieces are assigned this way: 1 point to a pawn, 3.2 points to a knight, 3.33 points to a bishop, 5.1 points to a rook and 8.8 points to a queen.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/MaterialEvalTest.php">Chess\Eval\MaterialEval</a></td>
</tr>
<tr>
<td>Overloading</td>
<td>A piece that is overloaded with defensive tasks is vulnerable because it can be deflected, meaning it could be forced to leave the square it occupies, typically resulting in an advantage for the opponent.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/OverloadingEvalTest.php">Chess\Eval\OverloadingEval</a></td>
</tr>
<tr>
<td>Passed pawn</td>
<td>A pawn with no opposing pawns on either the same file or adjacent files to prevent it from being promoted.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/PassedPawnEvalTest.php">Chess\Eval\PassedPawnEval</a></td>
</tr>
<tr>
<td>Pressure</td>
<td></td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/PressureEvalTest.php">Chess\Eval\PressureEval</a></td>
</tr>
<tr>
<td>Protection</td>
<td></td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/ProtectionEvalTest.php">Chess\Eval\ProtectionEval</a></td>
</tr>
<tr>
<td>Relative fork</td>
<td>A tactic in which a piece attacks multiple pieces at the same time. It is a double attack. A fork not involving the enemy king is a relative fork.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/RelativeForkEvalTest.php">Chess\Eval\RelativeForkEval</a></td>
</tr>
<tr>
<td>Relative pin</td>
<td>A tactic that occurs when a piece is shielding a more valuable piece, so if it moves out of the line of attack the more valuable piece can be captured resulting in a material gain.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/RelativePinEvalTest.php">Chess\Eval\RelativePinEval</a></td>
</tr>
<tr>
<td>Space</td>
<td>This is a measure of the number of squares controlled by each player.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/SpaceEvalTest.php">Chess\Eval\SpaceEval</a></td>
</tr>
<tr>
<td>Square outpost</td>
<td>A square protected by a pawn that cannot be attacked by an opponent's pawn.</td>
<td><a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/Eval/SqOutpostEvalTest.php">Chess\Eval\SqOutpostEval</a></td>
</tr>
</tbody>
</table>
<p>The evaluation features are used in two heuristics classes: <a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/FenHeuristicsTest.php">Chess\FenHeuristics</a> and <a href="https://github.com/chesslablab/php-chess/blob/main/tests/unit/SanHeuristicTest.php">Chess\SanHeuristic</a>. The former allows to transform a FEN position to numbers while the latter transforms an entire chess game in SAN format to numbers.</p>
<pre><code class="language-php">use Chess\FenHeuristics;
use Chess\FenToBoardFactory;
use Chess\Function\CompleteFunction;

$function = new CompleteFunction();

$fen = 'rnbqkb1r/p1pp1ppp/1p2pn2/8/2PP4/2N2N2/PP2PPPP/R1BQKB1R b KQkq -';

$board = FenToBoardFactory::create($fen);

$result = [
    'names' =&gt; $function-&gt;names(),
    'balance' =&gt; (new FenHeuristics($function, $board))-&gt;getBalance(),
];

print_r($result);
</code></pre>
<pre><code class="language-text">Array
(
    [names] =&gt; Array
        (
            [0] =&gt; Material
            [1] =&gt; Center
            [2] =&gt; Connectivity
            [3] =&gt; Space
            [4] =&gt; Pressure
            [5] =&gt; King safety
            [6] =&gt; Protection
            [7] =&gt; Discovered check
            [8] =&gt; Doubled pawn
            [9] =&gt; Passed pawn
            [10] =&gt; Advanced pawn
            [11] =&gt; Far-advanced pawn
            [12] =&gt; Isolated pawn
            [13] =&gt; Backward pawn
            [14] =&gt; Defense
            [15] =&gt; Absolute skewer
            [16] =&gt; Absolute pin
            [17] =&gt; Relative pin
            [18] =&gt; Absolute fork
            [19] =&gt; Relative fork
            [20] =&gt; Outpost square
            [21] =&gt; Knight outpost
            [22] =&gt; Bishop outpost
            [23] =&gt; Bishop pair
            [24] =&gt; Bad bishop
            [25] =&gt; Diagonal opposition
            [26] =&gt; Direct opposition
            [27] =&gt; Attack
            [28] =&gt; Overloading
        )

    [balance] =&gt; Array
        (
            [0] =&gt; 0
            [1] =&gt; 12.4
            [2] =&gt; 0
            [3] =&gt; 3
            [4] =&gt; 0
            [5] =&gt; 0
            [6] =&gt; 0
            [7] =&gt; 0
            [8] =&gt; 0
            [9] =&gt; 0
            [10] =&gt; 0
            [11] =&gt; 0
            [12] =&gt; 0
            [13] =&gt; 0
            [14] =&gt; 0
            [15] =&gt; 0
            [16] =&gt; 0
            [17] =&gt; 0
            [18] =&gt; 0
            [19] =&gt; 0
            [20] =&gt; 0
            [21] =&gt; 0
            [22] =&gt; 0
            [23] =&gt; 0
            [24] =&gt; 0
            [25] =&gt; 0
            [26] =&gt; 0
            [27] =&gt; 0
            [28] =&gt; 0
        )

)
</code></pre>
<p>A chess game can be plotted in terms of balance. +1 is the best possible evaluation for White and -1 the best possible evaluation for Black. Both forces being set to 0 means they're balanced.</p>
<pre><code class="language-php">use Chess\SanHeuristic;
use Chess\Function\CompleteFunction;

$function = new CompleteFunction();

$name = 'Space';

$movetext = '1.e4 d5 2.exd5 Qxd5';

$balance = (new SanHeuristic($function, $name, $movetext))-&gt;getBalance();

print_r($balance);
</code></pre>
<pre><code class="language-txt">Array
(
    [0] =&gt; 0
    [1] =&gt; 1
    [2] =&gt; 0.25
    [3] =&gt; 0.5
    [4] =&gt; -1
)
</code></pre>
<p>ðŸŽ‰ Chess positions and games can now be plotted on charts and processed with machine learning techniques.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/jquery-3.6.0.min.js"></script>
        <script src="../js/bootstrap.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
